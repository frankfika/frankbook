# ä¹¦ç±é…å›¾æŒ‡å—

æœ¬æ–‡æ¡£æä¾›åŸºäºå®˜æ–¹OpenClawæ¶æ„çš„é…å›¾æè¿°ï¼Œå¯ç”¨äºï¼š
1. ä½¿ç”¨ä¸“ä¸šç»˜å›¾å·¥å…·ï¼ˆå¦‚draw.ioã€Figmaï¼‰é‡æ–°ç»˜åˆ¶
2. ä½œä¸ºAIç»˜å›¾å·¥å…·çš„promptå‚è€ƒ
3. åœ¨Markdownä¸­åµŒå…¥Mermaidå›¾è¡¨

å®˜æ–¹å‚è€ƒèµ„æºï¼š
- å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.openclaw.ai/concepts/architecture
- æ¶æ„è¯¦è§£ï¼šhttps://ppaolo.substack.com/p/openclaw-system-architecture-overview

---

## ä¸€ã€OpenClawæ•´ä½“æ¶æ„å›¾ï¼ˆHub-and-Spokeï¼‰

### å®˜æ–¹æ¶æ„è¯´æ˜
OpenClawé‡‡ç”¨Hub-and-Spokeæ¶æ„ï¼ŒGatewayä½œä¸ºä¸­å¿ƒæ§åˆ¶å¹³é¢ï¼ˆControl Planeï¼‰ï¼Œè¿æ¥æ‰€æœ‰æ¶ˆæ¯æ¸ é“ã€æ§åˆ¶ç•Œé¢å’ŒAgentè¿è¡Œæ—¶ã€‚

### æ­£ç¡®çš„ASCIIæ¶æ„å›¾
```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚        Control Interfaces       â”‚
                              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                              â”‚  â”‚macOS â”‚ â”‚ CLI  â”‚ â”‚  Web UI â”‚  â”‚
                              â”‚  â”‚ App  â”‚ â”‚      â”‚ â”‚ :18789  â”‚  â”‚
                              â”‚  â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â”‚
                              â””â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚        â”‚          â”‚
                              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚       WebSocket Protocol        â”‚
                              â”‚        JSON Schema Valid        â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                                      â”‚
                    â”‚                     GATEWAY                          â”‚
                    â”‚                  (Control Plane)                     â”‚
                    â”‚                     :18789                           â”‚
                    â”‚                                                      â”‚
                    â”‚    â€¢ è¿æ¥ç®¡ç†  â€¢ æ¶ˆæ¯è·¯ç”±  â€¢ è®¿é—®æ§åˆ¶               â”‚
                    â”‚    â€¢ ä¼šè¯è§£æ  â€¢ äº‹ä»¶æ¨é€  â€¢ é…ç½®ç®¡ç†               â”‚
                    â”‚                                                      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                     â”‚                       â”‚                     â”‚
         â–¼                     â–¼                       â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Channel Adaptersâ”‚  â”‚  Agent Runtime  â”‚    â”‚     Nodes       â”‚   â”‚ Canvas Server   â”‚
â”‚                 â”‚  â”‚ (PiEmbeddedRun) â”‚    â”‚                 â”‚   â”‚     :18793      â”‚
â”‚ â€¢ WhatsApp      â”‚  â”‚                 â”‚    â”‚ â€¢ macOS/iOS     â”‚   â”‚                 â”‚
â”‚ â€¢ Telegram      â”‚  â”‚ â€¢ Sessionè§£æ   â”‚    â”‚ â€¢ Android       â”‚   â”‚ â€¢ A2UIæ¸²æŸ“      â”‚
â”‚ â€¢ Discord       â”‚  â”‚ â€¢ Contextç»„è£…   â”‚    â”‚ â€¢ Headless      â”‚   â”‚ â€¢ HTML/WSæ¨é€   â”‚
â”‚ â€¢ Slack         â”‚  â”‚ â€¢ Modelè°ƒç”¨     â”‚    â”‚                 â”‚   â”‚                 â”‚
â”‚ â€¢ Signal        â”‚  â”‚ â€¢ Toolæ‰§è¡Œ      â”‚    â”‚ â€¢ ç›¸æœº/ä½ç½®     â”‚   â”‚                 â”‚
â”‚ â€¢ iMessage      â”‚  â”‚ â€¢ çŠ¶æ€æŒä¹…åŒ–    â”‚    â”‚ â€¢ å±å¹•å½•åˆ¶      â”‚   â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                     â”‚
        â”‚                     â”‚
        â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Credentials   â”‚  â”‚  Model Provider â”‚
â”‚  ~/.openclaw/   â”‚  â”‚                 â”‚
â”‚  credentials/   â”‚  â”‚ â€¢ Anthropic     â”‚
â”‚                 â”‚  â”‚ â€¢ OpenAI        â”‚
â”‚ â€¢ WhatsApp Auth â”‚  â”‚ â€¢ Gemini        â”‚
â”‚ â€¢ Bot Tokens    â”‚  â”‚ â€¢ DeepSeek      â”‚
â”‚ â€¢ OAuth Secrets â”‚  â”‚ â€¢ æœ¬åœ°æ¨¡å‹      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ¨èPromptï¼ˆç”¨äºAIç»˜å›¾ï¼‰
> "A clean technical architecture diagram for OpenClaw AI Agent system. Hub-and-spoke topology with Gateway (Control Plane) at center on port 18789. Gateway connects to: Channel Adapters (WhatsApp, Telegram, Discord, Slack, iMessage icons), Agent Runtime box, Control Interfaces (macOS app, CLI, Web UI), Nodes (mobile devices), and Canvas Server on port 18793. Use modern flat design with teal (#23877B) as primary color, white background, professional software architecture diagram style. Show bidirectional arrows for WebSocket connections."

---

## äºŒã€æ¶ˆæ¯å¤„ç†ç«¯åˆ°ç«¯æµç¨‹å›¾

### å®˜æ–¹æµç¨‹
åŸºäºå®˜æ–¹æ–‡æ¡£çš„æ¶ˆæ¯å¤„ç†6ä¸ªé˜¶æ®µï¼šIngestion â†’ Access Control â†’ Context Assembly â†’ Model Invocation â†’ Tool Execution â†’ Response Delivery

### ASCIIæµç¨‹å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        OpenClaw æ¶ˆæ¯å¤„ç†æµç¨‹ (End-to-End)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”¨æˆ·æ¶ˆæ¯ â”€â”€â–ºâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 1         â”‚
            â”‚  Ingestion       â”‚ â”€â”€â”€ Channel Adapter è§£ææ¶ˆæ¯ã€åª’ä½“ã€å…ƒæ•°æ®
            â”‚  (æ¶ˆæ¯æ¥æ”¶)       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 2         â”‚
            â”‚  Access Control  â”‚ â”€â”€â”€ æ£€æŸ¥Allowlistã€é…å¯¹çŠ¶æ€ã€ç¾¤ç»„è§„åˆ™
            â”‚  (è®¿é—®æ§åˆ¶)       â”‚     æœªæˆæƒ â†’ æ‹’ç»/é…å¯¹æµç¨‹
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ âœ“ æˆæƒ
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Session         â”‚
            â”‚  Resolution      â”‚ â”€â”€â”€ main / dm:channel:id / group:channel:id
            â”‚  (ä¼šè¯è§£æ)       â”‚     æ¯ç§ä¼šè¯ç±»å‹æœ‰ä¸åŒçš„æ²™ç®±ç­–ç•¥
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 3         â”‚
            â”‚  Context         â”‚ â”€â”€â”€ åŠ è½½: AGENTS.md, SOUL.md, TOOLS.md
            â”‚  Assembly        â”‚     æ³¨å…¥: Skills, Memory Searchç»“æœ
            â”‚  (ä¸Šä¸‹æ–‡ç»„è£…)     â”‚     ç»„è£…: å®Œæ•´System Prompt
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 4         â”‚
            â”‚  Model           â”‚ â”€â”€â”€ æµå¼è°ƒç”¨ LLM (Claude/GPT/Geminiç­‰)
            â”‚  Invocation      â”‚     Token-by-token å“åº”
            â”‚  (æ¨¡å‹è°ƒç”¨)       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 5         â”‚
            â”‚  Tool            â”‚ â”€â”€â”€ æ£€æµ‹tool_calls â†’ æ‰§è¡Œå·¥å…·
            â”‚  Execution       â”‚     å¯èƒ½: Dockeræ²™ç®±éš”ç¦»
            â”‚  (å·¥å…·æ‰§è¡Œ)       â”‚     ç»“æœæµå¼è¿”å›æ¨¡å‹
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Phase 6         â”‚
            â”‚  Response        â”‚ â”€â”€â”€ æ ¼å¼åŒ–æ¶ˆæ¯(é€‚é…Channel)
            â”‚  Delivery        â”‚     å‘é€åˆ°ç”¨æˆ·
            â”‚  (å“åº”äº¤ä»˜)       â”‚     æŒä¹…åŒ–ä¼šè¯çŠ¶æ€
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
               ç”¨æˆ·æ”¶åˆ°å“åº”
```

### å»¶è¿Ÿé¢„ç®—å‚è€ƒï¼ˆå®˜æ–¹æ•°æ®ï¼‰
- Access Control: < 10ms
- Session Load: < 50ms
- Prompt Assembly: < 100ms
- First Token: 200-500ms
- Tool Execution: 100ms - 3s

---

## ä¸‰ã€Sessionç±»å‹ä¸æ²™ç®±ç­–ç•¥

### ASCIIå›¾ç¤º
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Session Types & Sandboxing                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚  main Session       â”‚  â€¢ å®Œå…¨ä¸»æœºè®¿é—®                                    â”‚
â”‚  â”‚  agent:<id>:main    â”‚  â€¢ æ— Dockerå¼€é”€                                    â”‚
â”‚  â”‚                     â”‚  â€¢ æ“ä½œå‘˜ä¿¡ä»»çº§åˆ«                                  â”‚
â”‚  â”‚  ğŸ”“ Full Access     â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚  DM Session         â”‚  â€¢ é»˜è®¤æ²™ç®±éš”ç¦»                                    â”‚
â”‚  â”‚  agent:<id>:<ch>:dm:â”‚  â€¢ Dockerå®¹å™¨æ‰§è¡Œ                                  â”‚
â”‚  â”‚  <identifier>       â”‚  â€¢ å—é™å·¥å…·é›†                                      â”‚
â”‚  â”‚                     â”‚                                                    â”‚
â”‚  â”‚  ğŸ”’ Sandboxed       â”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                    â”‚
â”‚  â”‚  Group Session      â”‚  â€¢ å¼ºåˆ¶æ²™ç®±éš”ç¦»                                    â”‚
â”‚  â”‚  agent:<id>:<ch>:   â”‚  â€¢ æœ€é«˜é£é™©ç­‰çº§                                    â”‚
â”‚  â”‚  group:<id>         â”‚  â€¢ ç½‘ç»œé€šå¸¸ç¦ç”¨                                    â”‚
â”‚  â”‚                     â”‚                                                    â”‚
â”‚  â”‚  ğŸ”’ğŸ”’ Strict Sandboxâ”‚                                                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å››ã€Dockeræ²™ç®±æ¶æ„ï¼ˆå®˜æ–¹ï¼‰

### ASCIIç¤ºæ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Host Machine                                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                         Gateway Process                              â”‚   â”‚
â”‚  â”‚                          (Port 18789)                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚                    Tool Execution Request                                    â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Docker Container (Sandbox)                        â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚   â”‚
â”‚  â”‚  â”‚                     Isolated Environment                     â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”‚  Bash   â”‚   â”‚  Files  â”‚   â”‚ Browser â”‚                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â”‚ Commandsâ”‚   â”‚(bind mount)â”‚(optional)â”‚                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   ğŸ”’ Isolation Boundary                                     â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â€¢ Filesystem: isolated / read-only bind                    â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â€¢ Network: disabled by default                             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â€¢ Resources: CPU/Memory limits                             â”‚    â”‚   â”‚
â”‚  â”‚  â”‚   â€¢ Ephemeral: created/destroyed per session                 â”‚    â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚    â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  ğŸš« Protected from sandbox:                                                 â”‚
â”‚     ~/.ssh  ~/.aws  ~/.kube  ~/.openclaw/credentials/                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## äº”ã€System Promptæ¶æ„ï¼ˆå®˜æ–¹ï¼‰

### ASCIIå›¾ç¤º
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        System Prompt Composition                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     Workspace Configuration Files                    â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚   AGENTS.md   â”‚ â”‚   SOUL.md     â”‚ â”‚   TOOLS.md    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚               â”‚ â”‚   (optional)  â”‚ â”‚   (optional)  â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Core rules    â”‚ â”‚ Personality   â”‚ â”‚ Tool usage    â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Constraints   â”‚ â”‚ Tone & style  â”‚ â”‚ conventions   â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Dynamic Context                               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚   â”‚
â”‚  â”‚  â”‚    Session    â”‚ â”‚    Skills     â”‚ â”‚    Memory     â”‚              â”‚   â”‚
â”‚  â”‚  â”‚    History    â”‚ â”‚ (selective)   â”‚ â”‚    Search     â”‚              â”‚   â”‚
â”‚  â”‚  â”‚               â”‚ â”‚               â”‚ â”‚               â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ Conversation  â”‚ â”‚ skills/*/     â”‚ â”‚ Semantic      â”‚              â”‚   â”‚
â”‚  â”‚  â”‚ turns         â”‚ â”‚ SKILL.md      â”‚ â”‚ similarity    â”‚              â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      Tool Definitions (auto-generated)               â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚     Built-in Tools            â”‚ â”‚     Plugin Tools              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  bash, browser, file, canvas  â”‚ â”‚  Custom capabilities          â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        Pi Agent Core                                 â”‚   â”‚
â”‚  â”‚                        (Base Instructions)                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚                                           â”‚
â”‚                                 â–¼                                           â”‚
â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚                     â”‚   Final System      â”‚                                 â”‚
â”‚                     â”‚   Prompt to Model   â”‚                                 â”‚
â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…­ã€éƒ¨ç½²æ¶æ„é€‰é¡¹ï¼ˆå®˜æ–¹ï¼‰

### æœ¬åœ°å¼€å‘ / macOSç”Ÿäº§
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Local Machine                             â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚   â”‚   macOS App     â”‚     â”‚      CLI        â”‚                  â”‚
â”‚   â”‚   (Menu Bar)    â”‚     â”‚                 â”‚                  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚            â”‚                       â”‚                            â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                        â”‚                                        â”‚
â”‚                        â–¼                                        â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚            â”‚      Gateway        â”‚â—„â”€â”€â”€â”€â”€ WhatsApp/Bot Tokens   â”‚
â”‚            â”‚    127.0.0.1:18789  â”‚                              â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### VPSè¿œç¨‹éƒ¨ç½²ï¼ˆSSHéš§é“ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Local Machine     â”‚                    â”‚      VPS/VM         â”‚
â”‚                     â”‚                    â”‚                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   SSH Tunnel       â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ CLI / Web UI  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚  â”‚   Gateway     â”‚  â”‚
â”‚  â”‚               â”‚  â”‚   Port Forward     â”‚  â”‚ 127.0.0.1     â”‚  â”‚
â”‚  â”‚ localhost:    â”‚  â”‚   18789â†’18789      â”‚  â”‚    :18789     â”‚  â”‚
â”‚  â”‚    18789      â”‚  â”‚                    â”‚  â”‚               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                     â”‚                    â”‚         â”‚           â”‚
â”‚                     â”‚                    â”‚         â–¼           â”‚
â”‚                     â”‚                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                     â”‚                    â”‚  â”‚    Agent      â”‚  â”‚
â”‚                     â”‚                    â”‚  â”‚    Runtime    â”‚  â”‚
â”‚                     â”‚                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Fly.ioå®¹å™¨éƒ¨ç½²
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           Fly.io Cloud                          â”‚
â”‚                                                                 â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚                    Fly.io Edge                         â”‚   â”‚
â”‚    â”‚              Managed HTTPS Endpoint                    â”‚   â”‚
â”‚    â”‚                  (TLS Termination)                     â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                  â”‚
â”‚                              â–¼                                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚               Docker Container                         â”‚   â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚    â”‚  â”‚              Gateway Process                    â”‚  â”‚   â”‚
â”‚    â”‚  â”‚                 :18789                          â”‚  â”‚   â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚    â”‚                         â”‚                              â”‚   â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚    â”‚  â”‚           Persistent Volume                      â”‚  â”‚   â”‚
â”‚    â”‚  â”‚   ~/.openclaw/ (config, sessions, credentials)  â”‚  â”‚   â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸ƒã€Canvasä¸A2UIæ¶æ„

### ASCIIç¤ºæ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Canvas & A2UI Architecture                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   Agent Runtime                                                             â”‚
â”‚        â”‚                                                                    â”‚
â”‚        â”‚ canvas.update({html: "..."})                                       â”‚
â”‚        â–¼                                                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    Canvas Server (:18793)                           â”‚   â”‚
â”‚   â”‚                                                                    â”‚   â”‚
â”‚   â”‚   â€¢ æ¥æ”¶HTMLå†…å®¹                                                   â”‚   â”‚
â”‚   â”‚   â€¢ è§£æA2UIå±æ€§                                                   â”‚   â”‚
â”‚   â”‚   â€¢ WebSocketæ¨é€åˆ°å®¢æˆ·ç«¯                                          â”‚   â”‚
â”‚   â”‚                                                                    â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â”‚ WS Push                                 â”‚
â”‚                                   â–¼                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                        Browser Clients                               â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚   â”‚   â”‚  <div a2ui-component="task-list">                        â”‚     â”‚  â”‚
â”‚   â”‚   â”‚    <button a2ui-action="complete" a2ui-param-id="123">   â”‚     â”‚  â”‚
â”‚   â”‚   â”‚      Mark Complete                                       â”‚     â”‚  â”‚
â”‚   â”‚   â”‚    </button>                                             â”‚     â”‚  â”‚
â”‚   â”‚   â”‚  </div>                                                  â”‚     â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   User Click â”€â”€â”€â”€â”€â”€â”€â”€â–º Action Event â”€â”€â”€â”€â”€â”€â”€â”€â–º Canvas Server        â”‚  â”‚
â”‚   â”‚                                                   â”‚                  â”‚  â”‚
â”‚   â”‚                                                   â–¼                  â”‚  â”‚
â”‚   â”‚                                          Tool Call to Agent         â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å…«ã€GEPAæ¡†æ¶å›¾ï¼ˆä¹¦ç±åŸåˆ›æ¦‚å¿µï¼‰

### æ–‡å­—æè¿°
å››è±¡é™å¾ªç¯å›¾ï¼Œå±•ç¤ºè‡ªè¿›åŒ–çš„å››å¤§æ”¯æŸ±ï¼šGenerationï¼ˆæ‰§è¡Œï¼‰ã€Evaluationï¼ˆè¯„ä¼°ï¼‰ã€Planningï¼ˆè§„åˆ’ï¼‰ã€Advancementï¼ˆè¿›åŒ–ï¼‰ã€‚

### ASCIIç¤ºæ„å›¾
```
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                                     â”‚
              â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚    â”‚   G   â”‚            â”‚   E   â”‚  â”‚
              â”‚    â”‚Generation         â”‚Evaluationâ”‚
              â”‚    â”‚ æ‰§è¡Œç”Ÿæˆâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ è¯„ä¼°æ‰“åˆ†â”‚  â”‚
              â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚         â–²                    â”‚      â”‚
              â”‚         â”‚                    â–¼      â”‚
              â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”  â”‚
              â”‚    â”‚   A   â”‚            â”‚   P   â”‚  â”‚
              â”‚    â”‚Advancement        â”‚Planning â”‚  â”‚
              â”‚    â”‚ è¿›åŒ–æ›´æ–°â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ è¯Šæ–­åæ€â”‚  â”‚
              â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
              â”‚                                     â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¹ã€å®æ–½å»ºè®®

### æ–¹æ¡ˆAï¼šä½¿ç”¨ä¸“ä¸šç»˜å›¾å·¥å…·
1. **draw.io** (å…è´¹) - https://app.diagrams.net/
2. **Figma** (å…è´¹) - https://figma.com
3. **Excalidraw** (å…è´¹) - https://excalidraw.com

### æ–¹æ¡ˆBï¼šä½¿ç”¨Mermaidè¯­æ³•
ä¹¦ç±ä¸­å¯ä»¥ç›´æ¥åµŒå…¥Mermaidä»£ç ï¼š

```mermaid
graph TB
    subgraph Gateway["Gateway (Control Plane :18789)"]
        G[Gateway]
    end

    subgraph Channels["Channel Adapters"]
        WA[WhatsApp]
        TG[Telegram]
        DC[Discord]
        SL[Slack]
    end

    subgraph Controls["Control Interfaces"]
        MAC[macOS App]
        CLI[CLI]
        WEB[Web UI]
    end

    subgraph Runtime["Agent Runtime"]
        AR[PiEmbeddedRunner]
    end

    WA --> G
    TG --> G
    DC --> G
    SL --> G
    MAC --> G
    CLI --> G
    WEB --> G
    G --> AR
```

### æ–¹æ¡ˆCï¼šè”ç³»å®˜æ–¹è·å–ç´ æ
OpenClawå®˜æ–¹ç½‘ç«™å¯èƒ½æœ‰å“ç‰Œç´ æå’Œæ¶æ„å›¾ï¼š
- GitHub: https://github.com/openclaw/openclaw
- Discordç¤¾åŒºå¯èƒ½æœ‰è®¾è®¡èµ„æº

---

## é…å›¾ç»Ÿè®¡

| ç±»å‹ | æ•°é‡ | ä¼˜å…ˆçº§ | çŠ¶æ€ |
|------|------|--------|------|
| æ•´ä½“æ¶æ„å›¾ | 1 | P0 | åŸºäºå®˜æ–¹æ–‡æ¡£å·²è®¾è®¡ |
| æ¶ˆæ¯æµç¨‹å›¾ | 1 | P0 | åŸºäºå®˜æ–¹æ–‡æ¡£å·²è®¾è®¡ |
| Session/æ²™ç®±å›¾ | 1 | P1 | åŸºäºå®˜æ–¹æ–‡æ¡£å·²è®¾è®¡ |
| éƒ¨ç½²æ¶æ„å›¾ | 3 | P1 | åŸºäºå®˜æ–¹æ–‡æ¡£å·²è®¾è®¡ |
| Canvas/A2UIå›¾ | 1 | P2 | åŸºäºå®˜æ–¹æ–‡æ¡£å·²è®¾è®¡ |
| GEPAæ¡†æ¶å›¾ | 1 | P2 | ä¹¦ç±åŸåˆ›æ¦‚å¿µ |
| Dashboardæˆªå›¾ | 1 | P2 | éœ€è¦å®é™…è¿è¡Œæˆªå›¾ |
| **åˆè®¡** | **9** | - | - |

---

## å®˜æ–¹èµ„æºé“¾æ¥

- å®˜æ–¹æ–‡æ¡£ï¼šhttps://docs.openclaw.ai
- æ¶æ„è¯¦è§£ï¼šhttps://docs.openclaw.ai/concepts/architecture
- GitHubä»“åº“ï¼šhttps://github.com/openclaw/openclaw
- ç¤¾åŒºDiscordï¼šé€šè¿‡å®˜ç½‘åŠ å…¥
