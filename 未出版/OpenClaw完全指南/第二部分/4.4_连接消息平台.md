---
section_id: 4.4
title: è¿æ¥æ¶ˆæ¯å¹³å°
status: draft
target_words: 1500
word_count: 1700
---

# è¿æ¥æ¶ˆæ¯å¹³å°

OpenClawçš„ä¸€å¤§ä¼˜åŠ¿æ˜¯æ”¯æŒå¤šæ¸ é“æ¥å…¥ã€‚ä½ å¯ä»¥åœ¨Telegramã€WhatsAppã€Discordã€Slackç­‰å¹³å°ä¸Šä½¿ç”¨åŒä¸€ä¸ªAIåŠ©æ‰‹ã€‚

## æ”¯æŒçš„å¹³å°

| å¹³å° | æ”¯æŒç¨‹åº¦ | ç‰¹ç‚¹ |
|-----|---------|------|
| **Telegram** | å®Œå–„ | æœ€æ¨èï¼ŒåŠŸèƒ½æœ€å…¨ |
| **WhatsApp** | å®Œå–„ | ç”¨æˆ·é‡å¤§ï¼Œéœ€æ‰«ç ç™»å½• |
| **Discord** | å®Œå–„ | é€‚åˆæ¸¸æˆ/å¼€å‘è€…ç¤¾åŒº |
| **Slack** | å®Œå–„ | é€‚åˆä¼ä¸šåœºæ™¯ |
| **é£ä¹¦** | æ’ä»¶æ”¯æŒ | éœ€å®‰è£…æ’ä»¶ |
| **é’‰é’‰** | æ’ä»¶æ”¯æŒ | éœ€å®‰è£…æ’ä»¶ |

## é€šç”¨æ¦‚å¿µï¼šdmPolicy

åœ¨é…ç½®ä»»ä½•æ¸ é“ä¹‹å‰ï¼Œéœ€è¦ç†è§£**dmPolicyï¼ˆç§ä¿¡ç­–ç•¥ï¼‰**ï¼š

| ç­–ç•¥ | è¯´æ˜ | å®‰å…¨æ€§ |
|-----|------|--------|
| `pairing` | é™Œç”Ÿäººéœ€è¾“å…¥é…å¯¹ç  | æ¨è |
| `allowlist` | ä»…å…è®¸ç™½åå•ç”¨æˆ· | å®‰å…¨ |
| `open` | å…è®¸æ‰€æœ‰äºº | å±é™© |

**å¼ºçƒˆå»ºè®®**ï¼šä½¿ç”¨ `pairing` æˆ– `allowlist`ï¼Œä¸è¦ç”¨ `open`ã€‚

## Telegramé…ç½®

Telegramæ˜¯OpenClawæ”¯æŒæœ€å®Œå–„çš„å¹³å°ã€‚

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºBot

1. æ‰“å¼€Telegramï¼Œæœç´¢ **@BotFather**
2. å‘é€ `/newbot`
3. æŒ‰æç¤ºè®¾ç½®Botåç§°å’Œç”¨æˆ·å
4. è·å¾— **Bot Token**ï¼ˆæ ¼å¼ï¼š`123456789:ABCdefGHI...`ï¼‰

### ç¬¬äºŒæ­¥ï¼šè·å–ä½ çš„User ID

1. æœç´¢ **@userinfobot**
2. å‘é€ä»»æ„æ¶ˆæ¯
3. è·å¾—ä½ çš„æ•°å­—ID

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®

```json
{
  "channels": {
    "telegram": {
      "enabled": true,
      "botToken": "${TELEGRAM_BOT_TOKEN}",

      // ç§ä¿¡ç­–ç•¥
      "dmPolicy": "pairing",

      // ç™½åå•ç”¨æˆ·
      "allowFrom": [
        "123456789",
        "987654321"
      ],

      // ç¾¤ç»„é…ç½®
      "groups": {
        "*": {
          "requireMention": true,
          "allowTools": false
        },
        "-1001234567890": {
          "requireMention": false,
          "mode": "auto"
        }
      }
    }
  }
}
```

### ç¾¤ç»„é…ç½®è¯´æ˜

| å­—æ®µ | è¯´æ˜ |
|-----|------|
| `requireMention` | æ˜¯å¦å¿…é¡»@æœºå™¨äººæ‰èƒ½å›å¤ |
| `allowTools` | æ˜¯å¦å…è®¸ä½¿ç”¨å·¥å…· |
| `mode` | `auto`=è‡ªåŠ¨å‚ä¸ï¼Œ`manual`=ä»…å“åº”@ |

**å»ºè®®**ï¼š
- å¤§ç¾¤è®¾ç½® `requireMention: true`ï¼Œé¿å…æœºå™¨äººåˆ·å±
- å°ç¾¤å¯ä»¥è®¾ç½® `requireMention: false`

### DM Pairingæµç¨‹

å½“é™Œç”Ÿäººç»™Botå‘æ¶ˆæ¯æ—¶ï¼š

```
é™Œç”Ÿäºº: ä½ å¥½
Bot: ğŸ” é…å¯¹è¯·æ±‚å·²å‘é€ç»™ç®¡ç†å‘˜ã€‚
     è¯·è¾“å…¥6ä½é…å¯¹ç ä»¥ç»§ç»­ã€‚

ç®¡ç†å‘˜æ”¶åˆ°é€šçŸ¥:
ğŸ“± æ–°ç”¨æˆ· @stranger è¯·æ±‚é…å¯¹
   [æ‰¹å‡†] [æ‹’ç»]

ç®¡ç†å‘˜æ‰¹å‡†å:
Bot: âœ… é…å¯¹æˆåŠŸï¼ä½ ç°åœ¨å¯ä»¥ä½¿ç”¨æˆ‘äº†ã€‚
```

## WhatsAppé…ç½®

WhatsAppä¸éœ€è¦åˆ›å»ºBotï¼Œç›´æ¥ç”¨ä½ çš„è´¦å·ã€‚

### é…ç½®

```json
{
  "channels": {
    "whatsapp": {
      "enabled": true,
      "dmPolicy": "allowlist",
      "allowFrom": ["8613800138000"]
    }
  }
}
```

### ç™»å½•

```bash
openclaw channels login whatsapp
```

ä¼šæ˜¾ç¤ºäºŒç»´ç ï¼Œç”¨WhatsAppæ‰«ç ç™»å½•ã€‚

### æ³¨æ„äº‹é¡¹

- WhatsAppè´¦å·æœ‰è¢«å°ç¦çš„é£é™©
- ä¸è¦å‘é€è¿‡å¤šæ¶ˆæ¯
- å»ºè®®ä½¿ç”¨ä¸“é—¨çš„å·ç 

## Discordé…ç½®

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºåº”ç”¨

1. è®¿é—® [Discord Developer Portal](https://discord.com/developers/applications)
2. ç‚¹å‡» **New Application**
3. è®¾ç½®åç§°ï¼Œåˆ›å»ºåº”ç”¨

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºBot

1. å·¦ä¾§èœå•é€‰æ‹© **Bot**
2. ç‚¹å‡» **Add Bot**
3. å¤åˆ¶ **Token**
4. **é‡è¦**ï¼šå¼€å¯ **Message Content Intent**

### ç¬¬ä¸‰æ­¥ï¼šé‚€è¯·Bot

1. å·¦ä¾§èœå•é€‰æ‹© **OAuth2** > **URL Generator**
2. å‹¾é€‰ **bot** å’Œ `applications.commands`
3. é€‰æ‹©æƒé™ï¼š`Read Messages`ã€`Send Messages`ã€`Read Message History`
4. å¤åˆ¶ç”Ÿæˆçš„é“¾æ¥ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€
5. é€‰æ‹©æœåŠ¡å™¨ï¼ŒæˆæƒBot

### é…ç½®

```json
{
  "channels": {
    "discord": {
      "enabled": true,
      "token": "${DISCORD_BOT_TOKEN}",
      "applicationId": "123456789012345678",

      // é™åˆ¶æœåŠ¡å™¨
      "guilds": ["555555555555555555"],

      // ç§ä¿¡ç­–ç•¥
      "dm": {
        "policy": "allowlist",
        "allowFrom": ["USER_ID_1"]
      },

      // åª’ä½“é™åˆ¶
      "mediaMaxMb": 10,

      // æ–œæ å‘½ä»¤
      "commands": {
        "native": true
      }
    }
  }
}
```

### æ³¨æ„äº‹é¡¹

- å¿…é¡»å¼€å¯ **Message Content Intent**ï¼Œå¦åˆ™Botæ— æ³•è¯»å–æ¶ˆæ¯å†…å®¹
- `guilds` é™åˆ¶å¯ä»¥æé«˜å®‰å…¨æ€§

## Slacké…ç½®

Slackæ¨èä½¿ç”¨ **Socket Mode**ï¼Œæ— éœ€å…¬ç½‘IPã€‚

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºSlack App

1. è®¿é—® [Slack API](https://api.slack.com/apps)
2. ç‚¹å‡» **Create New App**
3. é€‰æ‹© **From scratch**
4. è®¾ç½®åç§°å’ŒWorkspace

### ç¬¬äºŒæ­¥ï¼šé…ç½®æƒé™

åœ¨ **OAuth & Permissions** ä¸­æ·»åŠ ï¼š

**Bot Token Scopes**ï¼š
- `app_mentions:read`
- `channels:history`
- `chat:write`
- `groups:history`
- `im:history`
- `mpim:history`

### ç¬¬ä¸‰æ­¥ï¼šå¯ç”¨Socket Mode

1. å·¦ä¾§é€‰æ‹© **Socket Mode**
2. å¯ç”¨Socket Mode
3. ç”Ÿæˆ **App-Level Token**ï¼ˆéœ€è¦ `connections:write` æƒé™ï¼‰
4. å¤åˆ¶ç”Ÿæˆçš„Tokenï¼ˆä»¥ `xapp-` å¼€å¤´ï¼‰

### ç¬¬å››æ­¥ï¼šå®‰è£…App

1. å·¦ä¾§é€‰æ‹© **Install App**
2. ç‚¹å‡» **Install to Workspace**
3. å¤åˆ¶ **Bot User OAuth Token**ï¼ˆä»¥ `xoxb-` å¼€å¤´ï¼‰

### é…ç½®

```json
{
  "channels": {
    "slack": {
      "enabled": true,
      "mode": "socket",

      "botToken": "${SLACK_BOT_TOKEN}",
      "appToken": "${SLACK_APP_TOKEN}",

      "userTokenReadOnly": true,

      "groupPolicy": "allowlist",
      "channels": {
        "clawdbot-testing": {
          "allow": true,
          "requireMention": false
        }
      }
    }
  }
}
```

### é‚€è¯·Botåˆ°é¢‘é“

åœ¨Slackä¸­ï¼Œè¿›å…¥ç›®æ ‡é¢‘é“ï¼Œè¾“å…¥ `/invite @YourBotName`

## é£ä¹¦/é’‰é’‰é…ç½®

è¿™äº›å¹³å°éœ€è¦é€šè¿‡æ’ä»¶æ”¯æŒã€‚

### å®‰è£…æ’ä»¶

```bash
# é£ä¹¦
openclaw plugin install @openclaw/feishu

# é’‰é’‰
openclaw plugin install @openclaw/dingtalk
```

### é…ç½®

```json
{
  "channels": {
    "feishu": {
      "enabled": true,
      "appId": "${FEISHU_APP_ID}",
      "appSecret": "${FEISHU_APP_SECRET}",
      "connectionMode": "websocket"
    }
  }
}
```

**å»ºè®®**ï¼šä½¿ç”¨ `websocket` æ¨¡å¼ï¼Œå…å»é…ç½®å…¬ç½‘å›è°ƒåœ°å€ã€‚

## å¤šæ¸ é“åŒæ—¶ä½¿ç”¨

OpenClawæ”¯æŒåŒæ—¶é…ç½®å¤šä¸ªæ¸ é“ï¼š

```json
{
  "channels": {
    "telegram": {
      "enabled": true,
      "botToken": "${TELEGRAM_BOT_TOKEN}",
      "dmPolicy": "pairing"
    },
    "discord": {
      "enabled": true,
      "token": "${DISCORD_BOT_TOKEN}"
    },
    "slack": {
      "enabled": true,
      "mode": "socket",
      "botToken": "${SLACK_BOT_TOKEN}",
      "appToken": "${SLACK_APP_TOKEN}"
    }
  }
}
```

æ‰€æœ‰æ¸ é“å…±äº«åŒä¸€ä¸ªAgentï¼Œè®°å¿†å’ŒæŠ€èƒ½ä¹Ÿå…±äº«ã€‚

## ç®¡ç†å‘½ä»¤

```bash
# æŸ¥çœ‹æ¸ é“çŠ¶æ€
openclaw channels status

# ç™»å½•æ¸ é“ï¼ˆWhatsAppç­‰ï¼‰
openclaw channels login whatsapp

# ç™»å‡ºæ¸ é“
openclaw channels logout whatsapp

# é‡æ–°åŠ è½½é…ç½®
openclaw channels reload
```

## æ¸ é“å®‰å…¨æœ€ä½³å®è·µ

### 1. ä½¿ç”¨ç¯å¢ƒå˜é‡

ä¸è¦æŠŠTokenå†™åœ¨JSONä¸­ï¼š

```bash
# ~/.openclaw/env
TELEGRAM_BOT_TOKEN=xxx
DISCORD_BOT_TOKEN=xxx
```

### 2. é™åˆ¶ç™½åå•

```json
{
  "dmPolicy": "allowlist",
  "allowFrom": ["123456789"]
}
```

### 3. ç¾¤ç»„é™åˆ¶å·¥å…·ä½¿ç”¨

```json
{
  "groups": {
    "*": {
      "allowTools": false
    }
  }
}
```

### 4. å¯ç”¨æ²™ç®±

ç¡®ä¿æ²™ç®±å¼€å¯ï¼Œé˜²æ­¢æ¶æ„å‘½ä»¤ï¼š

```json
{
  "agents": {
    "defaults": {
      "sandbox": {
        "mode": "non-main"
      }
    }
  }
}
```

---

**æœ¬èŠ‚å°ç»“**

- æ”¯æŒTelegramã€WhatsAppã€Discordã€Slackç­‰ä¸»æµå¹³å°
- dmPolicyæ§åˆ¶ç§ä¿¡æƒé™ï¼šæ¨èä½¿ç”¨pairing
- Telegramé…ç½®æœ€ç®€å•ï¼ŒåŠŸèƒ½æœ€å…¨
- Slackæ¨èä½¿ç”¨Socket Modeï¼Œæ— éœ€å…¬ç½‘IP
- é£ä¹¦/é’‰é’‰é€šè¿‡æ’ä»¶æ”¯æŒ
- å¤šæ¸ é“å¯åŒæ—¶ä½¿ç”¨ï¼Œå…±äº«Agentè®°å¿†
- æ³¨æ„å®‰å…¨ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ã€é™åˆ¶ç™½åå•ã€å¯ç”¨æ²™ç®±
