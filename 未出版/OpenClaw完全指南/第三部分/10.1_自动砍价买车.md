---
section_id: 10.1
title: 自动砍价买车
status: draft
target_words: 2000
word_count: 2100
---

# 自动砍价买车

购买汽车是一项重大消费决策，涉及大量信息收集、价格比较和谈判过程。传统购车方式需要消费者花费大量时间走访多家4S店、收集报价、研究配置，并在谈判中应对销售人员的各种话术。OpenClaw 可以帮助我们构建一个智能购车助手，实现价格监控、自动询价、智能谈判辅助等功能，让购车过程更加透明、高效。

## 场景介绍

### 传统购车的痛点

1. **信息不对称**：消费者难以获取真实的成交价和市场行情
2. **价格不透明**：同一车型在不同经销商处报价差异巨大
3. **谈判耗时**：需要反复与多个销售沟通，耗费大量时间和精力
4. **配置复杂**：车型配置繁多，难以比较不同版本的性价比
5. **隐藏费用**：各种附加费用和捆绑销售让人防不胜防

### OpenClaw 的解决方案

- **价格监控**：自动追踪目标车型的价格变化和优惠信息
- **智能询价**：同时向多家经销商发送询价请求并收集报价
- **价格分析**：分析历史成交价，识别合理的谈判区间
- **谈判辅助**：生成谈判策略和话术，提高谈判成功率
- **合同审查**：自动检查购车合同中的隐藏条款和风险点

## 实现思路

智能购车助手的核心组件包括：

1. **行情监控器**：从汽车网站、论坛等渠道抓取价格信息
2. **询价机器人**：自动向经销商发送询价请求
3. **价格分析器**：分析历史数据，确定合理价格区间
4. **谈判策略生成器**：基于市场数据生成谈判方案
5. **合同审查器**：识别合同中的风险条款

## 配置步骤

### 第一步：创建汽车行情监控 Skill

```yaml
# ~/.openclaw/skills/car-buying/SKILL.md
---
name: car-buying-assistant
description: 智能购车助手
commands:
  - name: fetch-prices
    description: 获取车型价格信息
    script: |
      # 从汽车网站抓取价格数据
      curl -s "https://api.autohome.com.cn/v1/car/price?series={{series_id}}" | \
        jq '.result | map({
          dealer: .dealer_name,
          price: .guide_price,
          discount: .discount,
          final_price: .final_price,
          location: .city,
          update_time: .update_time
        })'

  - name: fetch-deals
    description: 获取车主真实成交价
    script: |
      # 从论坛抓取真实成交信息
      curl -s "https://api.nga.cn/v1/car/deals?model={{model_id}}&page=1" | \
        jq '.data | map({
          user: .username,
          price: .deal_price,
          location: .city,
          config: .configuration,
          date: .deal_date,
          gifts: .gifts
        })[:50]'

  - name: analyze-price-trend
    description: 分析价格趋势
    script: |
      # 查询历史价格数据
      sqlite3 ~/.openclaw/data/car_prices.db <<EOF
        SELECT
          date(recorded_at) as date,
          AVG(final_price) as avg_price,
          MIN(final_price) as min_price,
          MAX(final_price) as max_price,
          COUNT(*) as sample_count
        FROM car_prices
        WHERE model_id = '{{model_id}}'
          AND recorded_at >= date('now', '-90 days')
        GROUP BY date(recorded_at)
        ORDER BY date;
      EOF

  - name: send-inquiry
    description: 向经销商发送询价
    script: |
      # 生成询价邮件
      cat <<EOF | sendmail -t
      To: {{dealer.email}}
      Subject: 询价：{{car.model}} {{car.configuration}}

      {{dealer.sales_name}}您好，

      我对贵店的{{car.model}} {{car.configuration}}感兴趣，
      想了解一下目前的优惠政策：

      1. 裸车优惠幅度
      2. 购置税计算方式
      3. 保险方案及价格
      4. 上牌费用
      5. 是否有现车，提车周期
      6. 赠送礼品

      请提供详细报价单，谢谢！

      {{buyer.name}}
      {{buyer.phone}}
      EOF
```

### 第二步：创建价格分析 Agent

```yaml
# ~/.openclaw/agents/car-negotiator.yaml
name: car-negotiator
description: 汽车价格谈判专家
system_prompt: |
  你是一位资深的汽车购买顾问，精通汽车市场价格分析和谈判策略。

  你的职责：
  1. 分析市场行情，识别合理价格区间
  2. 评估经销商报价的合理性
  3. 制定谈判策略和话术
  4. 识别隐藏费用和捆绑销售
  5. 提供购车时机建议

  分析维度：
  - 近期成交价分布
  - 季节性价格波动
  - 车型生命周期（新款/改款/清库）
  - 区域价格差异
  - 经销商库存压力

  输出要求：
  - 提供具体的价格区间（而非模糊建议）
  - 给出可操作的谈判步骤
  - 标注风险提示
```

### 第三步：编写购车工作流

```yaml
# ~/.openclaw/workflows/car-buying.lobster
name: car-buying
version: "1.0"

triggers:
  - type: command
    name: "/car/start-buying"

steps:
  # 1. 收集市场行情
  - name: fetch_market_data
    skill: car-buying-assistant
    command: fetch-prices
    args:
      series_id: "{{input.car_series_id}}"

  - name: fetch_real_deals
    skill: car-buying-assistant
    command: fetch-deals
    args:
      model_id: "{{input.car_model_id}}"

  # 2. 分析价格数据
  - name: analyze_prices
    agent: car-negotiator
    prompt: |
      请分析以下价格数据，给出购车建议：

      目标车型：{{input.car_model}} {{input.configuration}}
      指导价：{{input.guide_price}}元
      所在城市：{{input.city}}

      市场报价：
      {{steps.fetch_market_data.output}}

      真实成交价：
      {{steps.fetch_real_deals.output}}

      请提供：
      1. 合理成交价区间
      2. 当前是否是购车好时机
      3. 预期可谈到的优惠幅度
      4. 各项费用的合理范围

  # 3. 生成询价清单
  - name: generate_inquiry_list
    agent: car-negotiator
    prompt: |
      基于以下经销商信息，生成询价策略：
      {{steps.fetch_market_data.output}}

      请筛选出5-8家最值得询价的经销商，并给出优先级排序。
      考虑因素：价格竞争力、地理位置、口碑评分。

  # 4. 批量发送询价
  - name: send_inquiries
    skill: car-buying-assistant
    command: send-inquiry
    loop:
      over: "{{steps.generate_inquiry_list.output.top_dealers}}"
      var: dealer
    args:
      dealer: "{{dealer}}"
      car: "{{input}}"
      buyer: "{{user}}"

  # 5. 收集报价
  - name: collect_quotes
    skill: email
    command: fetch-replies
    args:
      subject_contains: "报价"
      since: "{{now | subtract: '2h'}}"

  # 6. 分析报价
  - name: analyze_quotes
    agent: car-negotiator
    prompt: |
      请分析以下经销商报价：
      {{steps.collect_quotes.output}}

      请对比分析：
      1. 各报价的明细对比
      2. 识别隐藏费用
      3. 真实落地价计算
      4. 最优惠的2-3个选项
      5. 进一步谈判的空间

  # 7. 生成谈判策略
  - name: generate_negotiation_strategy
    agent: car-negotiator
    prompt: |
      为以下最优选项生成详细谈判策略：
      {{steps.analyze_quotes.output.best_options}}

      请提供：
      1. 谈判目标和底线
      2. 分阶段谈判步骤
      3. 关键话术
      4. 应对销售话术的反击策略
      5. 签约前检查清单

  # 8. 发送分析报告
  - name: send_analysis_report
    skill: notification
    command: send
    args:
      channel: "email"
      to: "{{user.email}}"
      title: "购车分析报告 - {{input.car_model}}"
      content: |
        ## 市场行情分析
        {{steps.analyze_prices.output}}

        ## 经销商报价对比
        {{steps.analyze_quotes.output | format_table}}

        ## 推荐方案
        {{steps.analyze_quotes.output.best_options}}

        ## 谈判策略
        {{steps.generate_negotiation_strategy.output}}
```

### 第四步：配置购车偏好

```yaml
# ~/.openclaw/config.yaml
car_buying:
  preferences:
    target_models:
      - brand: "丰田"
        model: "凯美瑞"
        configuration: "2.5G 豪华版"
        color: "珍珠白"
        budget: 220000
      - brand: "本田"
        model: "雅阁"
        configuration: "260TURBO 幻夜·尊贵版"
        color: "星空蓝"
        budget: 210000

    location:
      city: "北京"
      preferred_dealer_distance: "30km"

    timing:
      best_months: [3, 4, 6, 7, 11, 12]  # 传统淡季和年底冲量
      avoid_months: [1, 2, 9, 10]       # 春节和金九银十

    negotiation:
      max_visits: 3
      target_discount: 0.15  # 目标优惠15%
      acceptable_discount: 0.12
      must_haves:
        - "免费首保"
        - "原厂贴膜"
        - "行车记录仪"
```

## 实际案例

### 案例一：凯美瑞购车实战

小李准备购买一辆丰田凯美瑞，使用 OpenClaw 辅助购车：

```yaml
# 触发购车流程
input:
  car_series_id: "toyota-camry-2024"
  car_model_id: "camry-2.5g-luxury"
  car_model: "凯美瑞"
  configuration: "2.5G 豪华版"
  guide_price: 219800
  city: "北京"

# 工作流执行结果示例
steps:
  analyze_prices:
    output: |
      凯美瑞 2.5G 豪华版 市场行情分析：

      指导价：219,800元

      近期成交价分布：
      - 最低成交价：186,000元（优惠15.4%）
      - 平均成交价：192,000元（优惠12.6%）
      - 最高成交价：198,000元（优惠9.9%）

      当前时机评估：
      - 3月属于传统淡季，经销商有库存压力
      - 2024款上市不久，2023款清库中
      - 建议目标：优惠14-15%

      费用参考：
      - 购置税：约16,600元
      - 保险：约6,500元（全险）
      - 上牌：约500元
      - 合理落地价：210,000-215,000元

  analyze_quotes:
    output: |
      经销商报价对比：

      | 经销商 | 裸车价 | 优惠 | 购置税 | 保险 | 上牌 | 落地价 | 评分 |
      |--------|--------|------|--------|------|------|--------|------|
      | A店 | 188,000 | 14.5% | 16,600 | 6,800 | 1,500 | 212,900 | ★★★★☆ |
      | B店 | 186,500 | 15.2% | 16,500 | 7,200 | 2,000 | 212,200 | ★★★★★ |
      | C店 | 190,000 | 13.6% | 16,800 | 6,500 | 500 | 213,800 | ★★★☆☆ |

      风险提示：
      - C店上牌费过低，可能有其他捆绑
      - A店保险报价偏高，可谈

  generate_negotiation_strategy:
    output: |
      推荐方案：B店（当前最优）

      谈判策略：

      阶段一：电话初步沟通
      - 表明已了解市场行情
      - 询问是否有进一步优惠空间
      - 目标：确认裸车价可降至185,000

      阶段二：到店谈判
      - 携带其他店报价单作为筹码
      - 重点谈判保险和上牌费用
      - 争取赠送：贴膜、记录仪、脚垫

      阶段三：最终成交
      - 目标落地价：210,000元以内
      - 要求书面确认所有承诺
      - 检查合同条款

      关键话术：
      - "我已经对比了几家店，你们的价格还有空间吗？"
      - "如果今天能定，你们能给到什么价格？"
      - "保险我自己买，能不能再便宜点？"
```

### 案例二：价格监控与时机把握

小王不急于购车，选择持续监控价格等待最佳时机：

```yaml
name: car-price-monitor

triggers:
  - type: schedule
    cron: "0 10 * * *"  # 每天早上10点检查

steps:
  - name: check_current_prices
    skill: car-buying-assistant
    command: fetch-prices
    args:
      series_id: "{{user.watchlist.*.series_id}}"

  - name: compare_with_history
    skill: database
    command: query
    args:
      sql: |
        SELECT model_id, AVG(final_price) as avg_price
        FROM car_prices
        WHERE recorded_at >= date('now', '-30 days')
        GROUP BY model_id

  - name: detect_price_drop
    agent: price-analyzer
    prompt: |
      对比当前价格与历史均价：
      当前价格：{{steps.check_current_prices.output}}
      30天均价：{{steps.compare_with_history.output}}

      识别价格显著下降（>3%）的车型。

  - name: notify_opportunity
    skill: notification
    command: send
    condition: "{{steps.detect_price_drop.output.has_drop}}"
    args:
      channel: "wechat"
      title: "购车好时机！"
      content: |
        您关注的车型出现降价：
        {{steps.detect_price_drop.output.drops | format_list}}

        建议尽快联系经销商询价。
```

### 案例三：合同审查与风险识别

小张在签约前使用 OpenClaw 审查购车合同：

```yaml
name: contract-review

triggers:
  - type: command
    name: "/car/review-contract"

steps:
  - name: extract_contract
    skill: document
    command: extract-text
    args:
      file_path: "{{input.contract_path}}"

  - name: analyze_contract
    agent: legal-assistant
    prompt: |
      请审查以下购车合同，识别风险条款：
      {{steps.extract_contract.output}}

      重点关注：
      1. 车辆信息是否准确（VIN、配置、颜色）
      2. 价格明细是否清晰
      3. 交车时间和违约责任
      4. 退款条款
      5. 附加服务是否强制
      6. 争议解决方式

      标注每个风险点的严重程度和建议。

  - name: generate_checklist
    agent: car-negotiator
    prompt: |
      基于合同审查结果，生成签约前检查清单：
      {{steps.analyze_contract.output}}

      请列出签约前必须确认的事项。

  - name: send_review_report
    skill: notification
    command: send
    args:
      channel: "email"
      to: "{{user.email}}"
      title: "购车合同审查报告"
      content: |
        ## 风险等级：{{steps.analyze_contract.output.risk_level}}

        ## 主要问题
        {{steps.analyze_contract.output.issues | format_list}}

        ## 签约前检查清单
        {{steps.generate_checklist.output}}

        ## 建议
        {{steps.analyze_contract.output.recommendations}}
```

## 进阶技巧

### 跨城市比价

```yaml
- name: compare_cities
  skill: car-buying-assistant
  command: fetch-prices
  loop:
    over: ["北京", "上海", "广州", "天津"]
    var: city
  args:
    series_id: "{{input.series_id}}"
    city: "{{city}}"

- name: analyze_city_diff
  agent: car-negotiator
  prompt: |
    分析跨城市价格差异：
    {{steps.compare_cities.output}}

    计算异地购车的可行性（考虑运费、上牌等成本）。
```

### 库存压力分析

```yaml
- name: check_inventory
  skill: car-buying-assistant
  command: get-dealer-inventory
  args:
    dealer_id: "{{input.dealer_id}}"
    model_id: "{{input.model_id}}"

- name: assess_negotiation_power
  agent: car-negotiator
  prompt: |
    基于库存数据评估谈判筹码：
    库存量：{{steps.check_inventory.output.count}}
    库存天数：{{steps.check_inventory.output.days_of_inventory}}

    库存天数>60天：强谈判地位
    库存天数30-60天：中等谈判地位
    库存天数<30天：弱谈判地位
```

通过这些配置，OpenClaw 可以成为你的智能购车顾问，帮你省钱、避坑、买到心仪的爱车。
