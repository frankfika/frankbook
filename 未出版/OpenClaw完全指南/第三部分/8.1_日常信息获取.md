---
section_id: 8.1
title: 日常信息获取
status: draft
target_words: 1500
word_count: 1520
---

# 日常信息获取

在信息爆炸的时代，我们每天都需要从各种渠道获取新闻、天气、股票、科技动态等信息。传统方式需要我们主动打开多个应用或网站，逐一查看，既耗时又容易遗漏重要内容。OpenClaw 的 Agent 系统可以帮助我们构建一个智能信息助手，自动收集、筛选、汇总我们关心的信息，并以最适合的方式呈现。

## 场景介绍

想象一下这样的早晨：你刚起床，手机已经收到了一份精心整理的信息简报——今天的天气和穿衣建议、你关注的股票涨跌情况、昨夜发生的重大新闻、你追踪的科技博客更新。所有这些信息都经过 AI 的智能筛选，去除了无关内容，只留下你真正关心的部分。

这就是日常信息自动化的魅力。通过 OpenClaw，我们可以：

- **定时抓取**：按设定的时间间隔自动从多个来源获取信息
- **智能筛选**：根据你的兴趣和偏好过滤内容
- **个性化汇总**：将多源信息整合成一份易读的简报
- **多渠道推送**：通过邮件、即时通讯、语音等方式送达

## 实现思路

构建一个智能信息助手需要以下几个核心组件：

1. **信息源连接器**：使用 MCP 或 Skill 连接各类信息源（RSS、API、网页等）
2. **内容处理器**：对获取的内容进行清洗、分类、摘要
3. **个性化引擎**：根据用户偏好对内容进行排序和筛选
4. **推送服务**：将处理后的内容发送到指定渠道

我们可以使用 Lobster 工作流将这些组件串联起来，形成一个完整的信息处理流水线。

## 配置步骤

### 第一步：创建信息源 Skill

首先，我们需要创建一个 Skill 来定义信息获取的方式。以下是一个获取多源信息的 Skill 配置：

```yaml
# ~/.openclaw/skills/daily-briefing/SKILL.md
---
name: daily-briefing
description: 每日信息简报生成工具
commands:
  - name: fetch-weather
    description: 获取天气信息
    script: |
      curl -s "https://api.weather.com/v1/current?city={{city}}" | \
      jq '{temp: .temperature, condition: .condition, humidity: .humidity}'

  - name: fetch-news
    description: 获取新闻头条
    script: |
      curl -s "https://newsapi.org/v2/top-headlines?category={{category}}&apiKey={{api_key}}" | \
      jq '.articles[:5] | map({title: .title, url: .url, source: .source.name})'

  - name: fetch-stock
    description: 获取股票行情
    script: |
      curl -s "https://api.stockdata.com/v1/quote?symbol={{symbol}}&apiKey={{api_key}}" | \
      jq '{symbol: .symbol, price: .price, change: .change, changePercent: .change_percent}'
```

### 第二步：编写 Lobster 工作流

接下来，创建一个 Lobster 工作流来编排信息收集和处理流程：

```yaml
# ~/.openclaw/workflows/daily-briefing.lobster
name: daily-briefing
version: "1.0"

triggers:
  - type: schedule
    cron: "0 7 * * *"  # 每天早上7点执行

steps:
  # 1. 获取天气信息
  - name: get_weather
    skill: daily-briefing
    command: fetch-weather
    args:
      city: "{{user.preferences.city}}"

  # 2. 获取新闻
  - name: get_news
    skill: daily-briefing
    command: fetch-news
    args:
      category: "{{user.preferences.news_category}}"
      api_key: "{{secrets.news_api_key}}"

  # 3. 获取股票信息
  - name: get_stocks
    skill: daily-briefing
    command: fetch-stock
    loop:
      over: "{{user.preferences.watchlist}}"
      var: symbol
    args:
      symbol: "{{symbol}}"
      api_key: "{{secrets.stock_api_key}}"

  # 4. 使用 AI 生成摘要
  - name: generate_summary
    agent: content-processor
    prompt: |
      请根据以下信息生成一份简洁的每日简报：

      天气：{{steps.get_weather.output}}
      新闻：{{steps.get_news.output}}
      股票：{{steps.get_stocks.output}}

      要求：
      1. 天气部分包含穿衣建议
      2. 新闻部分提取3条最重要资讯
      3. 股票部分标注涨跌幅超过3%的股票
      4. 整体控制在300字以内
      5. 使用轻松友好的语气

  # 5. 推送到用户设备
  - name: push_notification
    skill: notification
    command: send
    args:
      channel: "{{user.preferences.notification_channel}}"
      title: "今日简报 - {{now | format_date}}"
      content: "{{steps.generate_summary.output}}"
```

### 第三步：配置个性化偏好

在 `~/.openclaw/config.yaml` 中配置个人信息偏好：

```yaml
user:
  preferences:
    city: "北京"
    news_category: "technology"
    watchlist:
      - "AAPL"
      - "TSLA"
      - "0700.HK"
    notification_channel: "wechat"

secrets:
  news_api_key: "your_news_api_key_here"
  stock_api_key: "your_stock_api_key_here"
```

## 实际案例

### 案例一：程序员专属技术简报

小王是一名前端工程师，他希望能每天收到前端技术圈的最新动态。他配置了以下工作流：

```yaml
steps:
  - name: fetch_github_trending
    skill: github
    command: get-trending
    args:
      language: "typescript"
      since: "daily"

  - name: fetch_npm_updates
    skill: npm
    command: get-updates
    args:
      packages:
        - "react"
        - "vue"
        - "@angular/core"

  - name: fetch_dev_blogs
    skill: rss
    command: fetch
    args:
      feeds:
        - "https://overreacted.io/rss.xml"
        - "https://blog.mozilla.org/javascript/rss"

  - name: generate_tech_digest
    agent: tech-writer
    prompt: |
      为前端开发者生成今日技术简报：

      GitHub Trending: {{steps.fetch_github_trending.output}}
      NPM 更新: {{steps.fetch_npm_updates.output}}
      博客文章: {{steps.fetch_dev_blogs.output}}

      请重点关注：
      1. 值得关注的开源项目（附 GitHub 链接）
      2. 重要版本更新和破坏性变更
      3. 高质量的技术文章推荐
```

### 案例二：投资者市场监控

李总是一位业余投资者，他希望在盘中收到重要市场动态：

```yaml
triggers:
  - type: schedule
    cron: "0 9,13 * * 1-5"  # 工作日开盘时执行

steps:
  - name: market_open
    skill: stock-market
    command: get-market-summary
    args:
      markets: ["CN", "US", "HK"]

  - name: portfolio_check
    skill: stock-market
    command: get-portfolio-status
    args:
      holdings: "{{user.portfolio}}"

  - name: news_scan
    skill: news
    command: search
    args:
      keywords: ["{{user.portfolio.*.name}}"]
      time_range: "24h"

  - name: alert_analysis
    agent: financial-analyst
    condition: "{{steps.portfolio_check.output.has_significant_change}}"
    prompt: |
      检测到持仓重大变动，请分析：
      持仓状态：{{steps.portfolio_check.output}}
      相关新闻：{{steps.news_scan.output}}

      请给出：
      1. 变动原因分析
      2. 是否需要关注的风险提示
      3. 建议采取的行动（如有）
```

### 案例三：多语言国际资讯

张女士需要跟踪多个国家的行业资讯，她使用以下配置实现自动翻译和汇总：

```yaml
steps:
  - name: fetch_international
    skill: rss
    command: fetch-multi
    args:
      feeds:
        - url: "https://techcrunch.com/feed/"
          lang: "en"
        - url: "https://www.nikkei.com/rss/"
          lang: "ja"
        - url: "https://www.lemonde.fr/rss/"
          lang: "fr"

  - name: translate_content
    agent: translator
    loop:
      over: "{{steps.fetch_international.output}}"
    prompt: |
      将以下内容翻译成中文：
      {{item.content}}

      原文语言：{{item.lang}}
      保留原文链接：{{item.url}}

  - name: categorize
    agent: classifier
    prompt: |
      将以下文章按主题分类（科技/财经/政策/其他）：
      {{steps.translate_content.output}}

      输出格式：
      - 标题
      - 分类
      - 一句话摘要
      - 原文链接
```

## 进阶技巧

### 智能去重与聚类

当多个信息源报道同一事件时，可以使用 AI 进行去重：

```yaml
- name: deduplicate
  agent: content-processor
  prompt: |
    以下是一组新闻标题，请识别报道同一事件的文章并只保留最完整的一条：
    {{steps.get_news.output}}

    去重规则：
    1. 同一事件的多个报道保留信息最完整的一条
    2. 不同角度的报道可以保留，但标注为相关新闻
    3. 输出按重要性排序
```

### 情感分析与优先级排序

为内容添加情感标签，帮助用户快速判断：

```yaml
- name: sentiment_analysis
  agent: sentiment-analyzer
  prompt: |
    分析以下内容的情感倾向和紧急程度：
    {{steps.get_news.output}}

    输出格式：
    - 标题
    - 情感：正面/负面/中性
    - 紧急程度：高/中/低
    - 建议关注等级：1-5星
```

通过这些配置，OpenClaw 可以成为你专属的信息管家，让你从信息过载中解放出来，专注于真正重要的内容。
