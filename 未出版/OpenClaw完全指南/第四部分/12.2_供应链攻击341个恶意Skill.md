---
section_id: 12.2
title: 供应链攻击341个恶意Skill
status: draft
target_words: 2000
word_count: 2400
---

# 供应链攻击：341个恶意Skill

2026年2月，OpenClaw社区遭遇了一场前所未有的供应链攻击。安全研究人员发现，在官方Skill仓库和多个第三方注册表中，共有341个Skill被植入了恶意代码。这些Skill在被安装后，会窃取敏感数据、植入后门，甚至将受感染的系统纳入僵尸网络。这次攻击被称为"SkillPoisoning"事件，是AI Agent领域最严重的安全事件之一。

## 攻击的发现：一个异常的API调用

攻击的发现源于一次例行的安全审计。2026年2月8日，一家使用OpenClaw的企业安全团队注意到，他们的一个内部API服务器收到了来自未知IP地址的调用。这个API用于访问敏感的客户数据，不应该被外部系统调用。

调查很快指向了一个最近安装的Skill——"DataFormatter Pro"。这个Skill声称可以优化数据格式化操作，在Skill商店中有超过2万次的下载量。但当安全团队分析其代码时，发现了令人震惊的事实：Skill在安装后会扫描系统中的配置文件，寻找API密钥和数据库凭证，并将这些信息发送到远程服务器。

进一步的调查显示，这不仅仅是个案。安全公司Trail of Bits和多家企业的安全团队合作，对Skill生态系统进行了全面审查。他们发现了341个存在类似问题的Skill，分布在官方仓库和多个流行的第三方注册表中。

## 攻击手法：供应链的薄弱环节

SkillPoisoning攻击利用了AI Agent生态系统的几个薄弱环节。

**Typosquatting（拼写抢注）**是最常见的攻击手法之一。攻击者注册了与流行Skill名称相似的包名，如"data-formater"（少了一个t）或"pandas-utils"（模仿著名的pandas库）。当用户不小心输入错误的名称时，就会安装到恶意Skill。

**依赖混淆**是另一种有效的攻击方式。攻击者会在公共仓库中上传与企业内部Skill同名的恶意包。由于OpenClaw的依赖解析器默认优先从公共仓库获取包，这会导致企业内部项目意外地使用恶意版本。

**合法Skill的劫持**则更加隐蔽。攻击者通过窃取合法开发者的账户凭证，获得了对流行Skill的发布权限。他们随后发布了包含恶意代码的新版本，而现有用户会在更新时自动安装这些恶意版本。

**复杂依赖链**为攻击提供了掩护。许多Skill依赖数十个其他包，形成复杂的依赖树。攻击者可以在深层依赖中植入恶意代码，这种代码很难通过常规审查发现。

## 恶意Skill的分类分析

根据功能和行为，341个恶意Skill可以分为以下几类：

**数据窃取型（127个）**：这类Skill的主要目标是收集敏感信息。它们会扫描环境变量、配置文件和内存中的凭证，将数据发送到攻击者控制的服务器。一些高级变种还会监控剪贴板和键盘输入。

**后门植入型（89个）**：这类Skill会在系统中创建持久化的后门，允许攻击者远程访问受感染的系统。后门通常伪装成正常的系统服务，很难被发现。

**加密货币挖矿型（67个）**：这类Skill会利用受感染系统的计算资源进行加密货币挖矿。由于AI Agent通常运行在性能较强的服务器上，这成为攻击者青睐的目标。

**僵尸网络型（38个）**：这类Skill会将受感染的系统纳入僵尸网络，用于发动DDoS攻击或进行其他恶意活动。这些Skill通常具有复杂的命令控制机制，可以从远程服务器接收指令。

**侦察型（20个）**：这类Skill的主要目的是收集目标系统的信息，为后续攻击做准备。它们会扫描网络拓扑、识别其他潜在的攻击目标。

## 影响评估：损失与风险

SkillPoisoning事件的影响是广泛而深远的。

**直接受影响的用户数量**估计超过50万。考虑到许多企业用户在一个项目中使用多个Skill，实际受影响的系统数量可能更高。

**数据泄露的规模**难以精确估计。但根据安全公司的分析，至少有数千个API密钥、数据库凭证和其他敏感信息被窃取。这些信息可能被用于进一步的攻击，或在暗网上出售。

**经济损失**包括直接的修复成本、业务中断损失和潜在的法律责任。一些受影响的企业不得不暂停服务进行安全审查，造成了严重的业务影响。

**信任危机**可能是最严重的长期影响。Skill生态系统是OpenClaw的核心优势之一，这次事件严重损害了用户对Skill商店的信任。许多企业开始重新评估使用第三方Skill的风险。

## 响应与清理：一场马拉松

应对SkillPoisoning事件是一场持久战，涉及多个层面的工作。

**紧急响应**阶段，OpenClaw基金会立即下架了所有已知的恶意Skill，并冻结了相关的开发者账户。他们发布了紧急安全公告，建议用户审查最近安装的Skill。

**检测工具的开发**是接下来的重点工作。OpenClaw与多家安全公司合作，开发了自动化检测工具，可以扫描已安装的Skill并识别潜在的恶意代码。这些工具使用了静态分析、动态分析和行为监控等多种技术。

**清理工作**是最耗时的环节。企业和个人用户需要审查他们的Skill清单，卸载可疑的Skill，并轮换所有可能泄露的凭证。对于大型企业，这个过程可能需要数周甚至数月。

**法律行动**也在进行中。执法机构追踪攻击者的身份，虽然由于使用了加密货币和匿名服务，完全追回损失的可能性很小，但调查仍在继续。

## 行业反思：如何防止再次发生

SkillPoisoning事件促使整个行业对供应链安全进行深刻反思。

**代码签名机制**被认为是必要的安全措施。OpenClaw随后引入了强制性的代码签名要求，所有发布的Skill必须由可信的证书签名。这可以防止攻击者劫持合法账户后发布恶意更新。

**沙箱执行环境**可以限制Skill的权限。OpenClaw 4.0版本引入了更严格的沙箱机制，Skill默认只能访问有限的系统资源，敏感操作需要明确的权限声明和用户授权。

**依赖审查工具**的开发得到了重视。新的工具可以分析Skill的完整依赖树，标记潜在的风险。企业可以使用这些工具建立允许列表，只允许使用经过审查的依赖。

**行为监控**被认为是检测恶意Skill的有效手段。通过监控Skill的运行时行为，可以及时发现异常活动，即使静态分析未能发现问题。

**安全审计服务**的兴起是另一个趋势。多家公司开始提供专业的Skill安全审计服务，帮助开发者和企业确保他们使用的Skill是安全的。

## 最佳实践：保护你的Agent系统

对于OpenClaw用户，SkillPoisoning事件提供了宝贵的安全教训。

**审查Skill来源**：只从可信的来源安装Skill。优先选择官方仓库中经过验证的Skill，对第三方Skill保持警惕。

**最小权限原则**：为Skill分配最小必要的权限。不要给予Skill不必要的系统访问权限或网络访问权限。

**定期审查**：定期审查已安装的Skill清单，移除不再使用的Skill。关注安全公告，及时更新存在漏洞的Skill。

**网络监控**：监控Skill的网络活动。如果Skill尝试连接到意外的服务器或传输大量数据，应该立即进行调查。

**隔离环境**：在隔离环境中测试新Skill，确认安全后再部署到生产环境。使用容器或虚拟机可以提供额外的隔离层。

**凭证管理**：使用专门的凭证管理服务，避免在配置文件或环境变量中硬编码敏感信息。定期轮换凭证，即使没有被泄露。

## 结语

SkillPoisoning事件是AI Agent领域的一个重要警示。它提醒我们，便利和安全之间需要谨慎的平衡。Skill生态系统为OpenClaw带来了巨大的价值，但也引入了新的安全风险。

随着AI Agent技术的不断发展，供应链安全将变得越来越重要。只有通过技术创新、最佳实践和行业协作，我们才能构建一个既开放又安全的AI Agent生态系统。这次事件的教训将被铭记，推动整个行业向更安全的方向发展。
